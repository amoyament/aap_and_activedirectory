---
- 
  name: Adding users for lab
  hosts: windows
  gather_facts: false

  vars: 
   ou_path: OU=Ansible,DC=instruqt,DC=ansible
   user_password: "{{ lookup('password', '/dev/null chars=ascii_uppercase,ascii_lowercase,digits,punctuation, length=20') }}"
   
  tasks:

   # - name: Create users for lab
   #   microsoft.ad.user:
   #    identity: "{{ item }}"
   #    password: "{{ user_password }}"
   #    state: present
   #    path: "{{ ou_path }}"
   #    groups:
   #     set:
   #      - Domain Users
   #   loop:
   #     - Sean
   #     - Colin
   #     - Anshul
   #     - Hicham
   #     - Leo
   #     - Roger
   #     - Nuno
